<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        // 1、switch 后面的括号里可以是变量、常量、表达式， 通常是一个**变量**（一般做法是：先把表达式存放到变量中）。
        // case 后面的值可以是变量、常量、表达式。
        // 2、case的判断逻辑是`===`，不是`==`。因此，字符串`'6'`和 数字 `6` 是不一样的。
        window.onload = function () {
            var iWeek = 7;
            var oBody = document.getElementById('body01')
            /*
            if(iWeek==1){
                oBody.style.backgroundColor = 'gold';
            }
            else if(iWeek==2){
                oBody.style.backgroundColor = 'green';
            }
            else if(iWeek==3){
                oBody.style.backgroundColor = 'red';
            }
            else if(iWeek==4){
                oBody.style.backgroundColor = 'black';
            }
            else if(iWeek==5){
                oBody.style.backgroundColor = 'grey';
            }
            else if(iWeek==6){
                oBody.style.backgroundColor = 'yellow';
            }
            else{
                oBody.style.backgroundColor = 'blue';
            }
             */
            switch (iWeek){
                case 1:
                    oBody.style.backgroundColor = 'gold';
                    break;
                case 2:
                    oBody.style.backgroundColor = 'red';
                    break;
                case 3:
                    oBody.style.backgroundColor = 'green';
                    break;
                case 4:
                    oBody.style.backgroundColor = 'yellow';
                    break;
                case 5:
                    oBody.style.backgroundColor = 'grey';
                    break;
                case 6:
                    oBody.style.backgroundColor = 'blue';
                    break;
                default:
                    oBody.style.backgroundColor = 'pink';
            }
        }

        // case后面是字符串
        let msg = 'notice';

        switch (msg) {
            case 'notice':
                console.log('提示');
                break;
            case 'warning':
                console.log('警告');
                break;
            case 'error':
                console.log('错误');
                break;
            default:
                console.log('默认文案');
                break;
        }

        // case后面是表达式
        let age = 28;
        switch (true) {
            case age < 18:
                console.log('未成年人');
                break;
            case age >= 18 && age <= 65:
                console.log('还能干活');
                break;
            case age > 65:
                console.log('该退休了');
                break;
            default:
                console.log('默认文案');
                break;
        }
        // 由于 switch 里的值是 true，所以，在众多的 case 语句中，会去匹配第一个符合 `case true`的语句，然后命中这条语句。
        // default不一定要写在最后面。 switch 中的 default 无论放到什么位置，都会等到所有case 都不匹配再执行。default 也可以省略。

        // case穿透
        // switchz中的break可以省略 但一般不建议
        const num = 4;
        switch (num) {
            case 1:
                console.log('星期一');
                break;
            case 2:
                console.log('星期二');
                break;
            case 3:
                console.log('星期三');
                break;
            case 4:
                console.log('星期四');
            //break;
            case 5:
                console.log('星期五');
            //break;
            case 6:
                console.log('星期六');
                break;
            case 7:
                console.log('星期日');
                break;
            default:
                console.log('你输入的数据有误');
                break;
        }
        // 输出结果
        /*
        星期四
        星期五
        星期六
         */
        // 因为在 case 4 和 case 5 中都没有 break，那语句走到 case 6 的 break 才会停止。

        const number = 5;
        switch (number) {
            default:
                console.log('我是defaul语句');
            // break;
            case 2:
                console.log('第二个呵呵:' + number);
            //break;
            case 3:
                console.log('第三个呵呵:' + number);
                break;
            case 4:
                console.log('第四个呵呵:' + number);
                break;
        }
        /*
        输出结果：
        我是defaul语句
        第二个呵呵:5
        第三个呵呵:5
         */
        // 代码走到 default 时，因为没有遇到 break，所以会继续往下走，直到遇见 break 或者走到程序的末尾。 从这个例子可以看出：switch 语句的结束与 default 的顺序无关。

        // 根据后端接口返回retCode,来让前端做不同的展示
        let retCode = 1003; // 返回码 retCode 的值可能有很多种情况

        if (retCode == 0) {
            alert('接口联调成功');
        } else if (retCode == 101) {
            alert('活动不存在');
        } else if (retCode == 103) {
            alert('活动未开始');
        } else if (retCode == 104) {
            alert('活动已结束');
        } else if (retCode == 1001) {
            alert('参数错误');
        } else if (retCode == 1002) {
            alert('接口频率限制');
        } else if (retCode == 1003) {
            alert('未登录');
        } else if (retCode == 1004) {
            alert('（风控用户）提示 活动太火爆啦~军万马都在挤，请稍后再试');
        } else {
            // 其他异常返回码
            alert('系统君失联了，请稍候再试');
        }

        // 如果你是按照上面的 `if else`的方式来写各种条件判断，说明你的代码水平太初级了，会被人喷的，千万不要这么写。这种写法，容易导致**嵌套太深，可读性很差**。
        // 那要怎么改进呢？继续往下看。
        // 改进return
        let retCode = 1003; // 返回码 retCode 的值可能有很多种情况
        handleRetCode(retCode);

        // 方法：根据接口不同的返回码，处理前端不同的显示状态
        function handleRetCode(retCode) {
            if (retCode == 0) {
                alert('接口联调成功');
                return;
            }

            if (retCode == 101) {
                alert('活动不存在');
                return;
            }

            if (retCode == 103) {
                alert('活动未开始');
                return;
            }

            if (retCode == 104) {
                alert('活动已结束');
                return;
            }

            if (retCode == 1001) {
                alert('参数错误');
                return;
            }

            if (retCode == 1002) {
                alert('接口频率限制');
                return;
            }

            if (retCode == 1003) {
                alert('未登录');
                return;
            }

            if (retCode == 1004) {
                alert('（风控用户）提示 活动太火爆啦~军万马都在挤，请稍后再试');
                return;
            }

            // 其他异常返回码
            alert('系统君失联了，请稍候再试');
            return;
        }

        // 将if else 改为 switch
        let retCode = 1003; // 返回码 retCode 的值可能有很多种情况

        switch (retCode) {
            case 0:
                alert('接口联调成功');
                break;
            case 101:
                alert('活动不存在');
                break;

            case 103:
                alert('活动未开始');
                break;

            case 104:
                alert('活动已结束');
                break;

            case 1001:
                alert('参数错误');
                break;

            case 1002:
                alert('接口频率限制');
                break;

            case 1003:
                alert('未登录');
                break;

            case 1004:
                alert('（风控用户）提示 活动太火爆啦~军万马都在挤，请稍后再试');
                break;

            // 其他异常返回码
            default:
                alert('系统君失联了，请稍候再试');
                break;
        }

        // 重复代码迭代

        let day = 2;

        switch (day) {
            case 1:
                console.log('work');
                break;

            case 2:
                console.log('work');
                break;

            case 3:
                console.log('work');
                break;

            case 4:
                console.log('work');
                break;

            case 5:
                console.log('work');
                break;

            case 6:
                console.log('relax');
                break;

            case 7:
                console.log('relax');
                break;

            default:
                break;
        }

        // 凡是有重复的地方，我们都必须要想办法简化。写代码就是在不断重构的过程。上面的代码，可以改进如下：（推荐，非常优雅）
        let day = 2;
        switch (day) {
            case 1:
            case 2:
            case 3:
            case 4:
            case 5:
                console.log('work');
                break; // 在这里放一个 break
            case 6:
            case 7:
                console.log('relax');
                break; // 在这里放一个 break

            default:
                break;
        }

    </script>
</head>
<body id="body01">

</body>
</html>